adminControllers.controller("CampaignListController",["$scope","$http","$routeParams","$location",function(e,t,o,n){e.page=1,e.getRecords=function(o,n,r,a,s){e.page="undefined"!=typeof o?o:e.page,e.search="undefined"!=typeof n?n:"",e.search_by="undefined"!=typeof r?r:"id",e.order="undefined"!=typeof s?s:"asc",e.order_by="undefined"!=typeof a?a:"active",t.get("/api/admin/campaigns/?page="+e.page+"&search="+e.search+"&search_by="+e.search_by+"&order_by="+e.order_by+"&order="+e.order).then(function(t){e.campaigns=t.data.data,e.totalItems=t.data.total,e.currentPage=t.data.current_page,e.maxSize=10},function(t){e.message="Something goes wrong. For more info check console logs."})},e.getRecords(e.page),e.pageChanged=function(){e.page=e.currentPage,e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.searchRecords=function(t,o,n,r){e.search="undefined"!=typeof t?t:"",e.search_by="undefined"!=typeof o?o:"id",e.order="undefined"!=typeof r?r:"dsc",e.order_by="undefined"!=typeof n?n:"id",e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)}}]),adminControllers.controller("CampaignDetailController",["$scope","$http","$routeParams",function(e,t,o){e.contestId=o.contestId,t.get("/api/admin/contests/"+o.contestId).success(function(t){e.contest=t.contest,e.reports=t.reports})}]),adminControllers.controller("CampaignCreateController",["$scope","$http","$filter","$location",function(e,t,o,n){t.get("/api/admin/campaigns/create").then(function(t){e.campaign_categories=t.data.campaign_categories,e.countries=t.data.countries,e.networks=t.data.networks},function(t){e.message="Something goes wrong. For more info check console logs."}),e.contest={type:"top_earner",start_at:new Date,end_at:new Date},e.targets=[{position:1,name:"",description:""},{position:2,name:"",description:""},{position:3,name:"",description:""}],e.addTarget=function(){var t=e.rewards.length;e.rewards[t]={position:t+1,name:"",description:""}},e.removeTarget=function(){e.rewards.pop()},e.create=function(o,n){var r={campaign:o,targets:n};t.post("/api/admin/campaigns",r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){e.message="Success"},function(t){e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("CampaignEditController",["$scope","$http","$routeParams","$filter","$httpParamSerializerJQLike","$location",function(e,t,o,n,r,a){e.contestId=o.contestId,t.get("/api/admin/campaigns/"+o.contestId+"/edit").success(function(t){t.start_at=new Date(t.start_at),t.end_at=new Date(t.end_at),e.contest=t,e.rewards=t.rewards}),e.addReward=function(){var t=e.rewards.length;e.rewards[t]={position:t+1,name:"",description:""}},e.removeReward=function(){e.rewards.pop()},e.update=function(n,r){var s={contest:n,rewards:r};t.put("/api/admin/campaigns/"+o.contestId,s,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){e.message="Success",a.path("campaigns/show/"+s.contest.id)},function(t){e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("CampaignGalleryController",["$scope","Upload","$routeParams",function(e,t,o){e.submit=function(){e.form.files.$valid&&e.files&&e.uploadFiles(e.files)},e.uploadFiles=function(e){if(e&&e.length)for(var n=0;n<e.length;n++)t.upload({url:"/api/admin/campaigns/gallery",method:"PUT",data:{file:e[n],campaignId:o.id}})}}]),adminControllers.controller("ContestListController",["$scope","$http","$routeParams","$location",function(e,t,o,n){e.page=o.page;var r=function(){t.get("/api/admin/contests/?page="+o.page).success(function(t){e.contests=t.data,e.totalItems=t.total,e.currentPage=t.current_page,e.maxSize=10})};r(),e.pageChanged=function(){n.path("/contests/"+e.currentPage)},e.orderProp="id",e["delete"]=function(o){t["delete"]("/api/admin/contests/"+o.id).success(function(t){e.message=t,r()})}}]),adminControllers.controller("ContestDetailController",["$scope","$http","$routeParams",function(e,t,o){e.contestId=o.contestId,t.get("/api/admin/contests/"+o.contestId).success(function(t){e.contest=t.contest,e.reports=t.reports})}]),adminControllers.controller("ContestCreateController",["$scope","$http","$routeParams","$filter","$httpParamSerializerJQLike","$location",function(e,t,o,n,r,a){e.contestId=o.contestId,e.contest={type:"top_earner",start_at:new Date,end_at:new Date},e.rewards=[{position:1,name:"",description:""},{position:2,name:"",description:""},{position:3,name:"",description:""}],e.addReward=function(){var t=e.rewards.length;e.rewards[t]={position:t+1,name:"",description:""}},e.removeReward=function(){e.rewards.pop()},e.create=function(o,n){var r={contest:o,rewards:n};t.post("/api/admin/contests",r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){e.message="Success",a.url("contests")},function(t){e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("ContestEditController",["$scope","$http","$routeParams","$filter","$httpParamSerializerJQLike","$location",function(e,t,o,n,r,a){e.contestId=o.contestId,t.get("/api/admin/contests/"+o.contestId+"/edit").success(function(t){t.start_at=new Date(t.start_at),t.end_at=new Date(t.end_at),e.contest=t,e.rewards=t.rewards}),e.addReward=function(){var t=e.rewards.length;e.rewards[t]={position:t+1,name:"",description:""}},e.removeReward=function(){e.rewards.pop()},e.update=function(n,r){var s={contest:n,rewards:r};t.put("/api/admin/contests/"+o.contestId,s,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){e.message="Success",a.path("contests/show/"+s.contest.id)},function(t){e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("PublisherListController",["$scope","$http","$routeParams","$location",function(e,t,o,n){e.page=1,e.getRecords=function(n,r,a,s,c){e.page="undefined"!=typeof n?n:e.page,e.search="undefined"!=typeof r?r:"",e.search_by="undefined"!=typeof a?a:"id",e.order="undefined"!=typeof c?c:"dsc",e.order_by="undefined"!=typeof s?s:"id","my"==o.page?e.my=!0:e.my=!1,"status"==o.page?e.status=!0:e.status=!1,t.get("/api/admin/publishers/?status="+e.status+"&page="+e.page+"&my="+e.my+"&search="+e.search+"&search_by="+e.search_by+"&order_by="+e.order_by+"&order="+e.order).success(function(t){e.publishers=t.data,e.totalItems=t.total,e.currentPage=t.current_page,e.maxSize=10})},e.getRecords(e.page),e.pageChanged=function(){e.page=e.currentPage,e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.searchRecords=function(t,o,n,r){e.search="undefined"!=typeof t?t:"",e.search_by="undefined"!=typeof o?o:"id",e.order="undefined"!=typeof r?r:"dsc",e.order_by="undefined"!=typeof n?n:"id",e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)}}]),adminControllers.controller("PublisherDetailController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,t,o,n){e.userId=o.userId,t.get("/api/admin/publishers/"+o.userId).success(function(t){e.user=t}),e.approval=function(r){t({method:"POST",url:"/api/admin/publishers/approval/"+o.userId,data:n({approve:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.user.user.approved=r})}}]),adminControllers.controller("PublisherEditController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,t,o,n){e.userId=o.userId,t.get("/api/admin/publishers/"+o.userId+"/edit").success(function(t){e.user=t}),e.update=function(o){t({method:"PUT",url:"/api/admin/publishers/"+o.user.id,data:n(o),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.message=t})}}]),adminControllers.controller("ReportListController",["$scope","$http","$routeParams","$location",function(e,t,o,n){e.page=1,e.getRecords=function(o,n,r,a,s){e.page="undefined"!=typeof o?o:e.page,e.search="undefined"!=typeof n?n:"",e.search_by="undefined"!=typeof r?r:"reports.id",e.order="undefined"!=typeof s?s:"dsc",e.order_by="undefined"!=typeof a?a:"reports.id",t.get("/api/admin/reports/?page="+e.page+"&search="+e.search+"&search_by="+e.search_by+"&order_by="+e.order_by+"&order="+e.order).success(function(t){e.reports=t.data,e.totalItems=t.total,e.currentPage=t.current_page,e.maxSize=10,e.itemsPerPage=t.per_page})},e.getRecords(e.page),e.pageChanged=function(){e.page=e.currentPage,e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.searchRecords=function(t,o,n,r){e.search="undefined"!=typeof t?t:"",e.search_by="undefined"!=typeof o?o:"id",e.order="undefined"!=typeof r?r:"dsc",e.order_by="undefined"!=typeof n?n:"id",e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.update=function(o,n){var r={status:n};t.put("/api/admin/reports/"+o,r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){e.message="success";for(var n=0;n<e.reports.length;n++)if(e.reports[n].id===o)return e.reports[n].status=parseInt(t.data),!0},function(t){e.message="Something goes wrong. For more info check console logs."})},e.destroy=function(o){t["delete"]("/api/admin/reports/"+o).then(function(t){if("success"==t.data)for(var n=0;n<e.reports.length;n++)if(e.reports[n].id===o)return e.getRecords(e.page),!0},function(t){e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("ReportDetailController",["$scope","$http","$routeParams","$location",function(e,t,o,n){e.reportId=o.reportId,t.get("/api/admin/reports/"+o.reportId).success(function(t){e.report=t}),e.update=function(o,n){var r={status:n};t.put("/api/admin/reports/"+o,r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(t){e.message="success",e.report.status=parseInt(t.data)},function(t){e.message="Something goes wrong. For more info check console logs."})},e.destroy=function(o){t["delete"]("/api/admin/reports/"+o).then(function(e){"success"==e.data&&n.url("reports")},function(t){e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("SocialAccountListController",["$scope","$http","$routeParams","$location","$httpParamSerializerJQLike",function(e,t,o,n,r){e.page=o.page,t.get("/api/admin/socialaccounts/?page="+o.page).success(function(t){e.socialaccounts=t.data,e.totalItems=t.total,e.currentPage=t.current_page,e.maxSize=10}),e.pageChanged=function(){n.path("/socialaccounts/"+e.currentPage)},e.orderProp="id",e.approval=function(o,n){t({method:"POST",url:"/api/admin/socialaccounts/approval/"+o,data:r({approve:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){for(var r=0;r<e.socialaccounts.length;r++)if(e.socialaccounts[r].account_id===o)return e.socialaccounts[r].approved=n,!0})}}]),adminControllers.controller("SocialAccountDetailController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,t,o,n){e.socialId=o.socialId,t.get("/api/admin/socialaccounts/"+o.socialId).success(function(t){e.socialAccount=t}),e.approval=function(r){t({method:"POST",url:"/api/admin/socialaccounts/approval/"+o.socialId,data:n({approve:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.socialAccount.approved=r})}}]),adminControllers.controller("SocialPostsListController",["$scope","$http","$routeParams","$location","$httpParamSerializerJQLike",function(e,t,o,n,r){e.page=o.page,t.get("/api/admin/socialposts/?page="+o.page).success(function(t){e.socialaccounts=t.data,e.totalItems=t.total,e.currentPage=t.current_page,e.maxSize=10}),e.pageChanged=function(){n.path("/socialposts/"+e.currentPage)},e.orderProp="id"}]),adminControllers.controller("SocialPostsDetailController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,t,o,n){e.igId=o.igId,t.get("/api/admin/socialaccounts/"+o.igId).success(function(t){e.ig=t})}]),adminControllers.controller("StatsController",["$scope","$http","$interval","$routeParams","$rootScope",function(e,t,o,n,r){function a(){e.getStats()}e.getStats=function(){t.get("/api/admin/stats").then(function(t){e.stats=t.data},function(t){e.stats=t.data})},e.getStats(),e.stop=o(a,1e4);var s=r.$on("$locationChangeSuccess",function(){o.cancel(e.stop),s()})}]);