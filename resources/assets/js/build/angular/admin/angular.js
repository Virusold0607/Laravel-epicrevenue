adminControllers.controller("CampaignListController",["$scope","$http","$routeParams","$location",function(e,o,t,n){e.page=1,e.getRecords=function(t,n,r,a,s){e.page="undefined"!=typeof t?t:e.page,e.search="undefined"!=typeof n?n:"",e.search_by="undefined"!=typeof r?r:"id",e.order="undefined"!=typeof s?s:"asc",e.order_by="undefined"!=typeof a?a:"active",o.get("/api/admin/campaigns/?page="+e.page+"&search="+e.search+"&search_by="+e.search_by+"&order_by="+e.order_by+"&order="+e.order).then(function(o){e.campaigns=o.data.data,e.totalItems=o.data.total,e.currentPage=o.data.current_page,e.maxSize=10},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})},e.getRecords(e.page),e.pageChanged=function(){e.page=e.currentPage,e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.searchRecords=function(o,t,n,r){e.search="undefined"!=typeof o?o:"",e.search_by="undefined"!=typeof t?t:"id",e.order="undefined"!=typeof r?r:"dsc",e.order_by="undefined"!=typeof n?n:"id",e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)}}]),adminControllers.controller("CampaignDetailController",["$scope","$http","$routeParams",function(e,o,t){e.contestId=t.contestId,o.get("/api/admin/contests/"+t.contestId).success(function(o){e.contest=o.contest,e.reports=o.reports})}]),adminControllers.controller("CampaignCreateController",["$scope","$http","$filter","$location",function(e,o,t,n){o.get("/api/admin/campaigns/create").then(function(o){e.campaign_categories=o.data.campaign_categories,e.countries=o.data.countries,e.networks=o.data.networks},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."}),e.contest={type:"top_earner",start_at:new Date,end_at:new Date},e.targets=[{position:1,name:"",description:""},{position:2,name:"",description:""},{position:3,name:"",description:""}],e.addTarget=function(){var o=e.rewards.length;e.rewards[o]={position:o+1,name:"",description:""}},e.removeTarget=function(){e.rewards.pop()},e.create=function(t,n){var r={campaign:t,targets:n};o.post("/api/admin/campaigns",r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(o){console.log("successCallback: "),console.log(o),e.message="Success"},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("CampaignEditController",["$scope","$http","$routeParams","$filter","$httpParamSerializerJQLike","$location",function(e,o,t,n,r,a){e.contestId=t.contestId,o.get("/api/admin/campaigns/"+t.contestId+"/edit").success(function(o){o.start_at=new Date(o.start_at),o.end_at=new Date(o.end_at),e.contest=o,e.rewards=o.rewards}),e.addReward=function(){var o=e.rewards.length;e.rewards[o]={position:o+1,name:"",description:""}},e.removeReward=function(){e.rewards.pop()},e.update=function(n,r){var s={contest:n,rewards:r};o.put("/api/admin/campaigns/"+t.contestId,s,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(o){e.message="Success",a.path("campaigns/show/"+s.contest.id)},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("CampaignGalleryController",["$scope","Upload","$routeParams",function(e,o,t){e.submit=function(){e.form.files.$valid&&e.files&&e.uploadFiles(e.files)},e.uploadFiles=function(e){if(e&&e.length)for(var n=0;n<e.length;n++)o.upload({url:"/api/admin/campaigns/gallery",method:"PUT",data:{file:e[n],campaignId:t.id}})}}]),adminControllers.controller("ContestListController",["$scope","$http","$routeParams","$location",function(e,o,t,n){e.page=t.page;var r=function(){o.get("/api/admin/contests/?page="+t.page).success(function(o){e.contests=o.data,e.totalItems=o.total,e.currentPage=o.current_page,e.maxSize=10})};r(),e.pageChanged=function(){n.path("/contests/"+e.currentPage)},e.orderProp="id",e["delete"]=function(t){o["delete"]("/api/admin/contests/"+t.id).success(function(o){e.message=o,r()})}}]),adminControllers.controller("ContestDetailController",["$scope","$http","$routeParams",function(e,o,t){e.contestId=t.contestId,o.get("/api/admin/contests/"+t.contestId).success(function(o){e.contest=o.contest,e.reports=o.reports})}]),adminControllers.controller("ContestCreateController",["$scope","$http","$routeParams","$filter","$httpParamSerializerJQLike","$location",function(e,o,t,n,r,a){e.contestId=t.contestId,e.contest={type:"top_earner",start_at:new Date,end_at:new Date},e.rewards=[{position:1,name:"",description:""},{position:2,name:"",description:""},{position:3,name:"",description:""}],e.addReward=function(){var o=e.rewards.length;e.rewards[o]={position:o+1,name:"",description:""}},e.removeReward=function(){e.rewards.pop()},e.create=function(t,n){var r={contest:t,rewards:n};o.post("/api/admin/contests",r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(o){e.message="Success",a.url("contests")},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("ContestEditController",["$scope","$http","$routeParams","$filter","$httpParamSerializerJQLike","$location",function(e,o,t,n,r,a){e.contestId=t.contestId,o.get("/api/admin/contests/"+t.contestId+"/edit").success(function(o){o.start_at=new Date(o.start_at),o.end_at=new Date(o.end_at),e.contest=o,e.rewards=o.rewards}),e.addReward=function(){var o=e.rewards.length;e.rewards[o]={position:o+1,name:"",description:""}},e.removeReward=function(){e.rewards.pop()},e.update=function(n,r){var s={contest:n,rewards:r};o.put("/api/admin/contests/"+t.contestId,s,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(o){e.message="Success",a.path("contests/show/"+s.contest.id)},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("PublisherListController",["$scope","$http","$routeParams","$location",function(e,o,t,n){e.page=1,e.getRecords=function(n,r,a,s,c){e.page="undefined"!=typeof n?n:e.page,e.search="undefined"!=typeof r?r:"",e.search_by="undefined"!=typeof a?a:"id",e.order="undefined"!=typeof c?c:"dsc",e.order_by="undefined"!=typeof s?s:"id","my"==t.page?e.my=!0:e.my=!1,"status"==t.page?e.status=!0:e.status=!1,o.get("/api/admin/publishers/?status="+e.status+"&page="+e.page+"&my="+e.my+"&search="+e.search+"&search_by="+e.search_by+"&order_by="+e.order_by+"&order="+e.order).success(function(o){e.publishers=o.data,e.totalItems=o.total,e.currentPage=o.current_page,e.maxSize=10})},e.getRecords(e.page),e.pageChanged=function(){e.page=e.currentPage,e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.searchRecords=function(o,t,n,r){e.search="undefined"!=typeof o?o:"",e.search_by="undefined"!=typeof t?t:"id",e.order="undefined"!=typeof r?r:"dsc",e.order_by="undefined"!=typeof n?n:"id",e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)}}]),adminControllers.controller("PublisherDetailController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,o,t,n){e.userId=t.userId,o.get("/api/admin/publishers/"+t.userId).success(function(o){e.user=o}),e.approval=function(r){o({method:"POST",url:"/api/admin/publishers/approval/"+t.userId,data:n({approve:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){e.user.user.approved=r})}}]),adminControllers.controller("PublisherEditController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,o,t,n){e.userId=t.userId,o.get("/api/admin/publishers/"+t.userId+"/edit").success(function(o){e.user=o}),e.update=function(t){o({method:"PUT",url:"/api/admin/publishers/"+t.user.id,data:n(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){e.message=o})}}]),adminControllers.controller("PublisherCreateController",["$scope","$http","$httpParamSerializerJQLike",function(e,o,t){e.user={},e.user.socialAccounts={},e.create=function(n){o({method:"POST",url:"/api/admin/publishers/",data:t(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){e.message=o})}}]),adminControllers.controller("ReportListController",["$scope","$http","$routeParams","$location",function(e,o,t,n){e.page=1,e.getRecords=function(t,n,r,a,s){e.page="undefined"!=typeof t?t:e.page,e.search="undefined"!=typeof n?n:"",e.search_by="undefined"!=typeof r?r:"reports.id",e.order="undefined"!=typeof s?s:"dsc",e.order_by="undefined"!=typeof a?a:"reports.id",o.get("/api/admin/reports/?page="+e.page+"&search="+e.search+"&search_by="+e.search_by+"&order_by="+e.order_by+"&order="+e.order).success(function(o){e.reports=o.data,e.totalItems=o.total,e.currentPage=o.current_page,e.maxSize=10,e.itemsPerPage=o.per_page})},e.getRecords(e.page),e.pageChanged=function(){e.page=e.currentPage,e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.searchRecords=function(o,t,n,r){e.search="undefined"!=typeof o?o:"",e.search_by="undefined"!=typeof t?t:"id",e.order="undefined"!=typeof r?r:"dsc",e.order_by="undefined"!=typeof n?n:"id",e.getRecords(e.page,e.search,e.search_by,e.order_by,e.order)},e.update=function(t,n){var r={status:n};o.put("/api/admin/reports/"+t,r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(o){e.message="success";for(var n=0;n<e.reports.length;n++)if(e.reports[n].id===t)return e.reports[n].status=parseInt(o.data),!0},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})},e.destroy=function(t){o["delete"]("/api/admin/reports/"+t).then(function(o){if("success"==o.data)for(var n=0;n<e.reports.length;n++)if(e.reports[n].id===t)return e.getRecords(e.page),!0},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("ReportDetailController",["$scope","$http","$routeParams","$location",function(e,o,t,n){e.reportId=t.reportId,o.get("/api/admin/reports/"+t.reportId).success(function(o){e.report=o}),e.update=function(t,n){var r={status:n};o.put("/api/admin/reports/"+t,r,{"Content-Type":"application/x-www-form-urlencoded"}).then(function(o){e.message="success",e.report.status=parseInt(o.data)},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})},e.destroy=function(t){o["delete"]("/api/admin/reports/"+t).then(function(e){"success"==e.data&&n.url("reports")},function(o){console.log("errorCallback: "),console.log(o),e.message="Something goes wrong. For more info check console logs."})}}]),adminControllers.controller("SocialAccountListController",["$scope","$http","$routeParams","$location","$httpParamSerializerJQLike",function(e,o,t,n,r){e.page=t.page,o.get("/api/admin/socialaccounts/?page="+t.page).success(function(o){e.socialaccounts=o.data,e.totalItems=o.total,e.currentPage=o.current_page,e.maxSize=10}),e.pageChanged=function(){n.path("/socialaccounts/"+e.currentPage)},e.orderProp="id",e.approval=function(t,n){o({method:"POST",url:"/api/admin/socialaccounts/approval/"+t,data:r({approve:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){for(var r=0;r<e.socialaccounts.length;r++)if(e.socialaccounts[r].account_id===t)return e.socialaccounts[r].approved=n,!0})}}]),adminControllers.controller("SocialAccountDetailController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,o,t,n){e.socialId=t.socialId,o.get("/api/admin/socialaccounts/"+t.socialId).success(function(o){e.socialAccount=o}),e.approval=function(r){o({method:"POST",url:"/api/admin/socialaccounts/approval/"+t.socialId,data:n({approve:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(o){e.socialAccount.approved=r})}}]),adminControllers.controller("SocialPostsListController",["$scope","$http","$routeParams","$location","$httpParamSerializerJQLike",function(e,o,t,n,r){e.page=t.page,o.get("/api/admin/socialposts/?page="+t.page).success(function(o){e.socialaccounts=o.data,e.totalItems=o.total,e.currentPage=o.current_page,e.maxSize=10}),e.pageChanged=function(){n.path("/socialposts/"+e.currentPage)},e.orderProp="id"}]),adminControllers.controller("SocialPostsDetailController",["$scope","$http","$routeParams","$httpParamSerializerJQLike",function(e,o,t,n){e.igId=t.igId,o.get("/api/admin/socialaccounts/"+t.igId).success(function(o){e.ig=o})}]),adminControllers.controller("StatsController",["$scope","$http","$interval","$routeParams","$rootScope",function(e,o,t,n,r){function a(){e.getStats()}e.getStats=function(){o.get("/api/admin/stats").then(function(o){e.stats=o.data},function(o){e.stats=o.data})},e.getStats(),e.stop=t(a,1e4);var s=r.$on("$locationChangeSuccess",function(){t.cancel(e.stop),s()})}]);