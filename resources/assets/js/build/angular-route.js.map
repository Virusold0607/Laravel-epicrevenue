{"version":3,"sources":["angular-route.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"angular-route.js","sourcesContent":["/**\r\n * @license AngularJS v1.5.8\r\n * (c) 2010-2016 Google, Inc. http://angularjs.org\r\n * License: MIT\r\n */\r\n(function(window, angular) {'use strict';\r\n\r\n/* global shallowCopy: true */\r\n\r\n/**\r\n * Creates a shallow copy of an object, an array or a primitive.\r\n *\r\n * Assumes that there are no proto properties for objects.\r\n */\r\nfunction shallowCopy(src, dst) {\r\n  if (isArray(src)) {\r\n    dst = dst || [];\r\n\r\n    for (var i = 0, ii = src.length; i < ii; i++) {\r\n      dst[i] = src[i];\r\n    }\r\n  } else if (isObject(src)) {\r\n    dst = dst || {};\r\n\r\n    for (var key in src) {\r\n      if (!(key.charAt(0) === '$' && key.charAt(1) === '$')) {\r\n        dst[key] = src[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  return dst || src;\r\n}\r\n\r\n/* global shallowCopy: false */\r\n\r\n// There are necessary for `shallowCopy()` (included via `src/shallowCopy.js`).\r\n// They are initialized inside the `$RouteProvider`, to ensure `window.angular` is available.\r\nvar isArray;\r\nvar isObject;\r\n\r\n/**\r\n * @ngdoc module\r\n * @name ngRoute\r\n * @description\r\n *\r\n * # ngRoute\r\n *\r\n * The `ngRoute` module provides routing and deeplinking services and directives for angular apps.\r\n *\r\n * ## Example\r\n * See {@link ngRoute.$route#example $route} for an example of configuring and using `ngRoute`.\r\n *\r\n *\r\n * <div doc-module-components=\"ngRoute\"></div>\r\n */\r\n /* global -ngRouteModule */\r\nvar ngRouteModule = angular.module('ngRoute', ['ng']).\r\n                        provider('$route', $RouteProvider),\r\n    $routeMinErr = angular.$$minErr('ngRoute');\r\n\r\n/**\r\n * @ngdoc provider\r\n * @name $routeProvider\r\n *\r\n * @description\r\n *\r\n * Used for configuring routes.\r\n *\r\n * ## Example\r\n * See {@link ngRoute.$route#example $route} for an example of configuring and using `ngRoute`.\r\n *\r\n * ## Dependencies\r\n * Requires the {@link ngRoute `ngRoute`} module to be installed.\r\n */\r\nfunction $RouteProvider() {\r\n  isArray = angular.isArray;\r\n  isObject = angular.isObject;\r\n\r\n  function inherit(parent, extra) {\r\n    return angular.extend(Object.create(parent), extra);\r\n  }\r\n\r\n  var routes = {};\r\n\r\n  /**\r\n   * @ngdoc method\r\n   * @name $routeProvider#when\r\n   *\r\n   * @param {string} path Route path (matched against `$location.path`). If `$location.path`\r\n   *    contains redundant trailing slash or is missing one, the route will still match and the\r\n   *    `$location.path` will be updated to add or drop the trailing slash to exactly match the\r\n   *    route definition.\r\n   *\r\n   *    * `path` can contain named groups starting with a colon: e.g. `:name`. All characters up\r\n   *        to the next slash are matched and stored in `$routeParams` under the given `name`\r\n   *        when the route matches.\r\n   *    * `path` can contain named groups starting with a colon and ending with a star:\r\n   *        e.g.`:name*`. All characters are eagerly stored in `$routeParams` under the given `name`\r\n   *        when the route matches.\r\n   *    * `path` can contain optional named groups with a question mark: e.g.`:name?`.\r\n   *\r\n   *    For example, routes like `/color/:color/largecode/:largecode*\\/edit` will match\r\n   *    `/color/brown/largecode/code/with/slashes/edit` and extract:\r\n   *\r\n   *    * `color: brown`\r\n   *    * `largecode: code/with/slashes`.\r\n   *\r\n   *\r\n   * @param {Object} route Mapping information to be assigned to `$route.current` on route\r\n   *    match.\r\n   *\r\n   *    Object properties:\r\n   *\r\n   *    - `controller` – `{(string|function()=}` – Controller fn that should be associated with\r\n   *      newly created scope or the name of a {@link angular.Module#controller registered\r\n   *      controller} if passed as a string.\r\n   *    - `controllerAs` – `{string=}` – An identifier name for a reference to the controller.\r\n   *      If present, the controller will be published to scope under the `controllerAs` name.\r\n   *    - `template` – `{string=|function()=}` – html template as a string or a function that\r\n   *      returns an html template as a string which should be used by {@link\r\n   *      ngRoute.directive:ngView ngView} or {@link ng.directive:ngInclude ngInclude} directives.\r\n   *      This property takes precedence over `templateUrl`.\r\n   *\r\n   *      If `template` is a function, it will be called with the following parameters:\r\n   *\r\n   *      - `{Array.<Object>}` - route parameters extracted from the current\r\n   *        `$location.path()` by applying the current route\r\n   *\r\n   *    - `templateUrl` – `{string=|function()=}` – path or function that returns a path to an html\r\n   *      template that should be used by {@link ngRoute.directive:ngView ngView}.\r\n   *\r\n   *      If `templateUrl` is a function, it will be called with the following parameters:\r\n   *\r\n   *      - `{Array.<Object>}` - route parameters extracted from the current\r\n   *        `$location.path()` by applying the current route\r\n   *\r\n   *    - `resolve` - `{Object.<string, function>=}` - An optional map of dependencies which should\r\n   *      be injected into the controller. If any of these dependencies are promises, the router\r\n   *      will wait for them all to be resolved or one to be rejected before the controller is\r\n   *      instantiated.\r\n   *      If all the promises are resolved successfully, the values of the resolved promises are\r\n   *      injected and {@link ngRoute.$route#$routeChangeSuccess $routeChangeSuccess} event is\r\n   *      fired. If any of the promises are rejected the\r\n   *      {@link ngRoute.$route#$routeChangeError $routeChangeError} event is fired.\r\n   *      For easier access to the resolved dependencies from the template, the `resolve` map will\r\n   *      be available on the scope of the route, under `$resolve` (by default) or a custom name\r\n   *      specified by the `resolveAs` property (see below). This can be particularly useful, when\r\n   *      working with {@link angular.Module#component components} as route templates.<br />\r\n   *      <div class=\"alert alert-warning\">\r\n   *        **Note:** If your scope already contains a property with this name, it will be hidden\r\n   *        or overwritten. Make sure, you specify an appropriate name for this property, that\r\n   *        does not collide with other properties on the scope.\r\n   *      </div>\r\n   *      The map object is:\r\n   *\r\n   *      - `key` – `{string}`: a name of a dependency to be injected into the controller.\r\n   *      - `factory` - `{string|function}`: If `string` then it is an alias for a service.\r\n   *        Otherwise if function, then it is {@link auto.$injector#invoke injected}\r\n   *        and the return value is treated as the dependency. If the result is a promise, it is\r\n   *        resolved before its value is injected into the controller. Be aware that\r\n   *        `ngRoute.$routeParams` will still refer to the previous route within these resolve\r\n   *        functions.  Use `$route.current.params` to access the new route parameters, instead.\r\n   *\r\n   *    - `resolveAs` - `{string=}` - The name under which the `resolve` map will be available on\r\n   *      the scope of the route. If omitted, defaults to `$resolve`.\r\n   *\r\n   *    - `redirectTo` – `{(string|function())=}` – value to update\r\n   *      {@link ng.$location $location} path with and trigger route redirection.\r\n   *\r\n   *      If `redirectTo` is a function, it will be called with the following parameters:\r\n   *\r\n   *      - `{Object.<string>}` - route parameters extracted from the current\r\n   *        `$location.path()` by applying the current route templateUrl.\r\n   *      - `{string}` - current `$location.path()`\r\n   *      - `{Object}` - current `$location.search()`\r\n   *\r\n   *      The custom `redirectTo` function is expected to return a string which will be used\r\n   *      to update `$location.path()` and `$location.search()`.\r\n   *\r\n   *    - `[reloadOnSearch=true]` - `{boolean=}` - reload route when only `$location.search()`\r\n   *      or `$location.hash()` changes.\r\n   *\r\n   *      If the option is set to `false` and url in the browser changes, then\r\n   *      `$routeUpdate` event is broadcasted on the root scope.\r\n   *\r\n   *    - `[caseInsensitiveMatch=false]` - `{boolean=}` - match routes without being case sensitive\r\n   *\r\n   *      If the option is set to `true`, then the particular route can be matched without being\r\n   *      case sensitive\r\n   *\r\n   * @returns {Object} self\r\n   *\r\n   * @description\r\n   * Adds a new route definition to the `$route` service.\r\n   */\r\n  this.when = function(path, route) {\r\n    //copy original route object to preserve params inherited from proto chain\r\n    var routeCopy = shallowCopy(route);\r\n    if (angular.isUndefined(routeCopy.reloadOnSearch)) {\r\n      routeCopy.reloadOnSearch = true;\r\n    }\r\n    if (angular.isUndefined(routeCopy.caseInsensitiveMatch)) {\r\n      routeCopy.caseInsensitiveMatch = this.caseInsensitiveMatch;\r\n    }\r\n    routes[path] = angular.extend(\r\n      routeCopy,\r\n      path && pathRegExp(path, routeCopy)\r\n    );\r\n\r\n    // create redirection for trailing slashes\r\n    if (path) {\r\n      var redirectPath = (path[path.length - 1] == '/')\r\n            ? path.substr(0, path.length - 1)\r\n            : path + '/';\r\n\r\n      routes[redirectPath] = angular.extend(\r\n        {redirectTo: path},\r\n        pathRegExp(redirectPath, routeCopy)\r\n      );\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  /**\r\n   * @ngdoc property\r\n   * @name $routeProvider#caseInsensitiveMatch\r\n   * @description\r\n   *\r\n   * A boolean property indicating if routes defined\r\n   * using this provider should be matched using a case insensitive\r\n   * algorithm. Defaults to `false`.\r\n   */\r\n  this.caseInsensitiveMatch = false;\r\n\r\n   /**\r\n    * @param path {string} path\r\n    * @param opts {Object} options\r\n    * @return {?Object}\r\n    *\r\n    * @description\r\n    * Normalizes the given path, returning a regular expression\r\n    * and the original path.\r\n    *\r\n    * Inspired by pathRexp in visionmedia/express/lib/utils.js.\r\n    */\r\n  function pathRegExp(path, opts) {\r\n    var insensitive = opts.caseInsensitiveMatch,\r\n        ret = {\r\n          originalPath: path,\r\n          regexp: path\r\n        },\r\n        keys = ret.keys = [];\r\n\r\n    path = path\r\n      .replace(/([().])/g, '\\\\$1')\r\n      .replace(/(\\/)?:(\\w+)(\\*\\?|[\\?\\*])?/g, function(_, slash, key, option) {\r\n        var optional = (option === '?' || option === '*?') ? '?' : null;\r\n        var star = (option === '*' || option === '*?') ? '*' : null;\r\n        keys.push({ name: key, optional: !!optional });\r\n        slash = slash || '';\r\n        return ''\r\n          + (optional ? '' : slash)\r\n          + '(?:'\r\n          + (optional ? slash : '')\r\n          + (star && '(.+?)' || '([^/]+)')\r\n          + (optional || '')\r\n          + ')'\r\n          + (optional || '');\r\n      })\r\n      .replace(/([\\/$\\*])/g, '\\\\$1');\r\n\r\n    ret.regexp = new RegExp('^' + path + '$', insensitive ? 'i' : '');\r\n    return ret;\r\n  }\r\n\r\n  /**\r\n   * @ngdoc method\r\n   * @name $routeProvider#otherwise\r\n   *\r\n   * @description\r\n   * Sets route definition that will be used on route change when no other route definition\r\n   * is matched.\r\n   *\r\n   * @param {Object|string} params Mapping information to be assigned to `$route.current`.\r\n   * If called with a string, the value maps to `redirectTo`.\r\n   * @returns {Object} self\r\n   */\r\n  this.otherwise = function(params) {\r\n    if (typeof params === 'string') {\r\n      params = {redirectTo: params};\r\n    }\r\n    this.when(null, params);\r\n    return this;\r\n  };\r\n\r\n\r\n  this.$get = ['$rootScope',\r\n               '$location',\r\n               '$routeParams',\r\n               '$q',\r\n               '$injector',\r\n               '$templateRequest',\r\n               '$sce',\r\n      function($rootScope, $location, $routeParams, $q, $injector, $templateRequest, $sce) {\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name $route\r\n     * @requires $location\r\n     * @requires $routeParams\r\n     *\r\n     * @property {Object} current Reference to the current route definition.\r\n     * The route definition contains:\r\n     *\r\n     *   - `controller`: The controller constructor as defined in the route definition.\r\n     *   - `locals`: A map of locals which is used by {@link ng.$controller $controller} service for\r\n     *     controller instantiation. The `locals` contain\r\n     *     the resolved values of the `resolve` map. Additionally the `locals` also contain:\r\n     *\r\n     *     - `$scope` - The current route scope.\r\n     *     - `$template` - The current route template HTML.\r\n     *\r\n     *     The `locals` will be assigned to the route scope's `$resolve` property. You can override\r\n     *     the property name, using `resolveAs` in the route definition. See\r\n     *     {@link ngRoute.$routeProvider $routeProvider} for more info.\r\n     *\r\n     * @property {Object} routes Object with all route configuration Objects as its properties.\r\n     *\r\n     * @description\r\n     * `$route` is used for deep-linking URLs to controllers and views (HTML partials).\r\n     * It watches `$location.url()` and tries to map the path to an existing route definition.\r\n     *\r\n     * Requires the {@link ngRoute `ngRoute`} module to be installed.\r\n     *\r\n     * You can define routes through {@link ngRoute.$routeProvider $routeProvider}'s API.\r\n     *\r\n     * The `$route` service is typically used in conjunction with the\r\n     * {@link ngRoute.directive:ngView `ngView`} directive and the\r\n     * {@link ngRoute.$routeParams `$routeParams`} service.\r\n     *\r\n     * @example\r\n     * This example shows how changing the URL hash causes the `$route` to match a route against the\r\n     * URL, and the `ngView` pulls in the partial.\r\n     *\r\n     * <example name=\"$route-service\" module=\"ngRouteExample\"\r\n     *          deps=\"angular-route.js\" fixBase=\"true\">\r\n     *   <file name=\"index.html\">\r\n     *     <div ng-controller=\"MainController\">\r\n     *       Choose:\r\n     *       <a href=\"Book/Moby\">Moby</a> |\r\n     *       <a href=\"Book/Moby/ch/1\">Moby: Ch1</a> |\r\n     *       <a href=\"Book/Gatsby\">Gatsby</a> |\r\n     *       <a href=\"Book/Gatsby/ch/4?key=value\">Gatsby: Ch4</a> |\r\n     *       <a href=\"Book/Scarlet\">Scarlet Letter</a><br/>\r\n     *\r\n     *       <div ng-view></div>\r\n     *\r\n     *       <hr />\r\n     *\r\n     *       <pre>$location.path() = {{$location.path()}}</pre>\r\n     *       <pre>$route.current.templateUrl = {{$route.current.templateUrl}}</pre>\r\n     *       <pre>$route.current.params = {{$route.current.params}}</pre>\r\n     *       <pre>$route.current.scope.name = {{$route.current.scope.name}}</pre>\r\n     *       <pre>$routeParams = {{$routeParams}}</pre>\r\n     *     </div>\r\n     *   </file>\r\n     *\r\n     *   <file name=\"book.html\">\r\n     *     controller: {{name}}<br />\r\n     *     Book Id: {{params.bookId}}<br />\r\n     *   </file>\r\n     *\r\n     *   <file name=\"chapter.html\">\r\n     *     controller: {{name}}<br />\r\n     *     Book Id: {{params.bookId}}<br />\r\n     *     Chapter Id: {{params.chapterId}}\r\n     *   </file>\r\n     *\r\n     *   <file name=\"script.js\">\r\n     *     angular.module('ngRouteExample', ['ngRoute'])\r\n     *\r\n     *      .controller('MainController', function($scope, $route, $routeParams, $location) {\r\n     *          $scope.$route = $route;\r\n     *          $scope.$location = $location;\r\n     *          $scope.$routeParams = $routeParams;\r\n     *      })\r\n     *\r\n     *      .controller('BookController', function($scope, $routeParams) {\r\n     *          $scope.name = \"BookController\";\r\n     *          $scope.params = $routeParams;\r\n     *      })\r\n     *\r\n     *      .controller('ChapterController', function($scope, $routeParams) {\r\n     *          $scope.name = \"ChapterController\";\r\n     *          $scope.params = $routeParams;\r\n     *      })\r\n     *\r\n     *     .config(function($routeProvider, $locationProvider) {\r\n     *       $routeProvider\r\n     *        .when('/Book/:bookId', {\r\n     *         templateUrl: 'book.html',\r\n     *         controller: 'BookController',\r\n     *         resolve: {\r\n     *           // I will cause a 1 second delay\r\n     *           delay: function($q, $timeout) {\r\n     *             var delay = $q.defer();\r\n     *             $timeout(delay.resolve, 1000);\r\n     *             return delay.promise;\r\n     *           }\r\n     *         }\r\n     *       })\r\n     *       .when('/Book/:bookId/ch/:chapterId', {\r\n     *         templateUrl: 'chapter.html',\r\n     *         controller: 'ChapterController'\r\n     *       });\r\n     *\r\n     *       // configure html5 to get links working on jsfiddle\r\n     *       $locationProvider.html5Mode(true);\r\n     *     });\r\n     *\r\n     *   </file>\r\n     *\r\n     *   <file name=\"protractor.js\" type=\"protractor\">\r\n     *     it('should load and compile correct template', function() {\r\n     *       element(by.linkText('Moby: Ch1')).click();\r\n     *       var content = element(by.css('[ng-view]')).getText();\r\n     *       expect(content).toMatch(/controller\\: ChapterController/);\r\n     *       expect(content).toMatch(/Book Id\\: Moby/);\r\n     *       expect(content).toMatch(/Chapter Id\\: 1/);\r\n     *\r\n     *       element(by.partialLinkText('Scarlet')).click();\r\n     *\r\n     *       content = element(by.css('[ng-view]')).getText();\r\n     *       expect(content).toMatch(/controller\\: BookController/);\r\n     *       expect(content).toMatch(/Book Id\\: Scarlet/);\r\n     *     });\r\n     *   </file>\r\n     * </example>\r\n     */\r\n\r\n    /**\r\n     * @ngdoc event\r\n     * @name $route#$routeChangeStart\r\n     * @eventType broadcast on root scope\r\n     * @description\r\n     * Broadcasted before a route change. At this  point the route services starts\r\n     * resolving all of the dependencies needed for the route change to occur.\r\n     * Typically this involves fetching the view template as well as any dependencies\r\n     * defined in `resolve` route property. Once  all of the dependencies are resolved\r\n     * `$routeChangeSuccess` is fired.\r\n     *\r\n     * The route change (and the `$location` change that triggered it) can be prevented\r\n     * by calling `preventDefault` method of the event. See {@link ng.$rootScope.Scope#$on}\r\n     * for more details about event object.\r\n     *\r\n     * @param {Object} angularEvent Synthetic event object.\r\n     * @param {Route} next Future route information.\r\n     * @param {Route} current Current route information.\r\n     */\r\n\r\n    /**\r\n     * @ngdoc event\r\n     * @name $route#$routeChangeSuccess\r\n     * @eventType broadcast on root scope\r\n     * @description\r\n     * Broadcasted after a route change has happened successfully.\r\n     * The `resolve` dependencies are now available in the `current.locals` property.\r\n     *\r\n     * {@link ngRoute.directive:ngView ngView} listens for the directive\r\n     * to instantiate the controller and render the view.\r\n     *\r\n     * @param {Object} angularEvent Synthetic event object.\r\n     * @param {Route} current Current route information.\r\n     * @param {Route|Undefined} previous Previous route information, or undefined if current is\r\n     * first route entered.\r\n     */\r\n\r\n    /**\r\n     * @ngdoc event\r\n     * @name $route#$routeChangeError\r\n     * @eventType broadcast on root scope\r\n     * @description\r\n     * Broadcasted if any of the resolve promises are rejected.\r\n     *\r\n     * @param {Object} angularEvent Synthetic event object\r\n     * @param {Route} current Current route information.\r\n     * @param {Route} previous Previous route information.\r\n     * @param {Route} rejection Rejection of the promise. Usually the error of the failed promise.\r\n     */\r\n\r\n    /**\r\n     * @ngdoc event\r\n     * @name $route#$routeUpdate\r\n     * @eventType broadcast on root scope\r\n     * @description\r\n     * The `reloadOnSearch` property has been set to false, and we are reusing the same\r\n     * instance of the Controller.\r\n     *\r\n     * @param {Object} angularEvent Synthetic event object\r\n     * @param {Route} current Current/previous route information.\r\n     */\r\n\r\n    var forceReload = false,\r\n        preparedRoute,\r\n        preparedRouteIsUpdateOnly,\r\n        $route = {\r\n          routes: routes,\r\n\r\n          /**\r\n           * @ngdoc method\r\n           * @name $route#reload\r\n           *\r\n           * @description\r\n           * Causes `$route` service to reload the current route even if\r\n           * {@link ng.$location $location} hasn't changed.\r\n           *\r\n           * As a result of that, {@link ngRoute.directive:ngView ngView}\r\n           * creates new scope and reinstantiates the controller.\r\n           */\r\n          reload: function() {\r\n            forceReload = true;\r\n\r\n            var fakeLocationEvent = {\r\n              defaultPrevented: false,\r\n              preventDefault: function fakePreventDefault() {\r\n                this.defaultPrevented = true;\r\n                forceReload = false;\r\n              }\r\n            };\r\n\r\n            $rootScope.$evalAsync(function() {\r\n              prepareRoute(fakeLocationEvent);\r\n              if (!fakeLocationEvent.defaultPrevented) commitRoute();\r\n            });\r\n          },\r\n\r\n          /**\r\n           * @ngdoc method\r\n           * @name $route#updateParams\r\n           *\r\n           * @description\r\n           * Causes `$route` service to update the current URL, replacing\r\n           * current route parameters with those specified in `newParams`.\r\n           * Provided property names that match the route's path segment\r\n           * definitions will be interpolated into the location's path, while\r\n           * remaining properties will be treated as query params.\r\n           *\r\n           * @param {!Object<string, string>} newParams mapping of URL parameter names to values\r\n           */\r\n          updateParams: function(newParams) {\r\n            if (this.current && this.current.$$route) {\r\n              newParams = angular.extend({}, this.current.params, newParams);\r\n              $location.path(interpolate(this.current.$$route.originalPath, newParams));\r\n              // interpolate modifies newParams, only query params are left\r\n              $location.search(newParams);\r\n            } else {\r\n              throw $routeMinErr('norout', 'Tried updating route when with no current route');\r\n            }\r\n          }\r\n        };\r\n\r\n    $rootScope.$on('$locationChangeStart', prepareRoute);\r\n    $rootScope.$on('$locationChangeSuccess', commitRoute);\r\n\r\n    return $route;\r\n\r\n    /////////////////////////////////////////////////////\r\n\r\n    /**\r\n     * @param on {string} current url\r\n     * @param route {Object} route regexp to match the url against\r\n     * @return {?Object}\r\n     *\r\n     * @description\r\n     * Check if the route matches the current url.\r\n     *\r\n     * Inspired by match in\r\n     * visionmedia/express/lib/router/router.js.\r\n     */\r\n    function switchRouteMatcher(on, route) {\r\n      var keys = route.keys,\r\n          params = {};\r\n\r\n      if (!route.regexp) return null;\r\n\r\n      var m = route.regexp.exec(on);\r\n      if (!m) return null;\r\n\r\n      for (var i = 1, len = m.length; i < len; ++i) {\r\n        var key = keys[i - 1];\r\n\r\n        var val = m[i];\r\n\r\n        if (key && val) {\r\n          params[key.name] = val;\r\n        }\r\n      }\r\n      return params;\r\n    }\r\n\r\n    function prepareRoute($locationEvent) {\r\n      var lastRoute = $route.current;\r\n\r\n      preparedRoute = parseRoute();\r\n      preparedRouteIsUpdateOnly = preparedRoute && lastRoute && preparedRoute.$$route === lastRoute.$$route\r\n          && angular.equals(preparedRoute.pathParams, lastRoute.pathParams)\r\n          && !preparedRoute.reloadOnSearch && !forceReload;\r\n\r\n      if (!preparedRouteIsUpdateOnly && (lastRoute || preparedRoute)) {\r\n        if ($rootScope.$broadcast('$routeChangeStart', preparedRoute, lastRoute).defaultPrevented) {\r\n          if ($locationEvent) {\r\n            $locationEvent.preventDefault();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function commitRoute() {\r\n      var lastRoute = $route.current;\r\n      var nextRoute = preparedRoute;\r\n\r\n      if (preparedRouteIsUpdateOnly) {\r\n        lastRoute.params = nextRoute.params;\r\n        angular.copy(lastRoute.params, $routeParams);\r\n        $rootScope.$broadcast('$routeUpdate', lastRoute);\r\n      } else if (nextRoute || lastRoute) {\r\n        forceReload = false;\r\n        $route.current = nextRoute;\r\n        if (nextRoute) {\r\n          if (nextRoute.redirectTo) {\r\n            if (angular.isString(nextRoute.redirectTo)) {\r\n              $location.path(interpolate(nextRoute.redirectTo, nextRoute.params)).search(nextRoute.params)\r\n                       .replace();\r\n            } else {\r\n              $location.url(nextRoute.redirectTo(nextRoute.pathParams, $location.path(), $location.search()))\r\n                       .replace();\r\n            }\r\n          }\r\n        }\r\n\r\n        $q.when(nextRoute).\r\n          then(resolveLocals).\r\n          then(function(locals) {\r\n            // after route change\r\n            if (nextRoute == $route.current) {\r\n              if (nextRoute) {\r\n                nextRoute.locals = locals;\r\n                angular.copy(nextRoute.params, $routeParams);\r\n              }\r\n              $rootScope.$broadcast('$routeChangeSuccess', nextRoute, lastRoute);\r\n            }\r\n          }, function(error) {\r\n            if (nextRoute == $route.current) {\r\n              $rootScope.$broadcast('$routeChangeError', nextRoute, lastRoute, error);\r\n            }\r\n          });\r\n      }\r\n    }\r\n\r\n    function resolveLocals(route) {\r\n      if (route) {\r\n        var locals = angular.extend({}, route.resolve);\r\n        angular.forEach(locals, function(value, key) {\r\n          locals[key] = angular.isString(value) ?\r\n              $injector.get(value) :\r\n              $injector.invoke(value, null, null, key);\r\n        });\r\n        var template = getTemplateFor(route);\r\n        if (angular.isDefined(template)) {\r\n          locals['$template'] = template;\r\n        }\r\n        return $q.all(locals);\r\n      }\r\n    }\r\n\r\n\r\n    function getTemplateFor(route) {\r\n      var template, templateUrl;\r\n      if (angular.isDefined(template = route.template)) {\r\n        if (angular.isFunction(template)) {\r\n          template = template(route.params);\r\n        }\r\n      } else if (angular.isDefined(templateUrl = route.templateUrl)) {\r\n        if (angular.isFunction(templateUrl)) {\r\n          templateUrl = templateUrl(route.params);\r\n        }\r\n        if (angular.isDefined(templateUrl)) {\r\n          route.loadedTemplateUrl = $sce.valueOf(templateUrl);\r\n          template = $templateRequest(templateUrl);\r\n        }\r\n      }\r\n      return template;\r\n    }\r\n\r\n\r\n    /**\r\n     * @returns {Object} the current active route, by matching it against the URL\r\n     */\r\n    function parseRoute() {\r\n      // Match a route\r\n      var params, match;\r\n      angular.forEach(routes, function(route, path) {\r\n        if (!match && (params = switchRouteMatcher($location.path(), route))) {\r\n          match = inherit(route, {\r\n            params: angular.extend({}, $location.search(), params),\r\n            pathParams: params});\r\n          match.$$route = route;\r\n        }\r\n      });\r\n      // No route matched; fallback to \"otherwise\" route\r\n      return match || routes[null] && inherit(routes[null], {params: {}, pathParams:{}});\r\n    }\r\n\r\n    /**\r\n     * @returns {string} interpolation of the redirect path with the parameters\r\n     */\r\n    function interpolate(string, params) {\r\n      var result = [];\r\n      angular.forEach((string || '').split(':'), function(segment, i) {\r\n        if (i === 0) {\r\n          result.push(segment);\r\n        } else {\r\n          var segmentMatch = segment.match(/(\\w+)(?:[?*])?(.*)/);\r\n          var key = segmentMatch[1];\r\n          result.push(params[key]);\r\n          result.push(segmentMatch[2] || '');\r\n          delete params[key];\r\n        }\r\n      });\r\n      return result.join('');\r\n    }\r\n  }];\r\n}\r\n\r\nngRouteModule.provider('$routeParams', $RouteParamsProvider);\r\n\r\n\r\n/**\r\n * @ngdoc service\r\n * @name $routeParams\r\n * @requires $route\r\n *\r\n * @description\r\n * The `$routeParams` service allows you to retrieve the current set of route parameters.\r\n *\r\n * Requires the {@link ngRoute `ngRoute`} module to be installed.\r\n *\r\n * The route parameters are a combination of {@link ng.$location `$location`}'s\r\n * {@link ng.$location#search `search()`} and {@link ng.$location#path `path()`}.\r\n * The `path` parameters are extracted when the {@link ngRoute.$route `$route`} path is matched.\r\n *\r\n * In case of parameter name collision, `path` params take precedence over `search` params.\r\n *\r\n * The service guarantees that the identity of the `$routeParams` object will remain unchanged\r\n * (but its properties will likely change) even when a route change occurs.\r\n *\r\n * Note that the `$routeParams` are only updated *after* a route change completes successfully.\r\n * This means that you cannot rely on `$routeParams` being correct in route resolve functions.\r\n * Instead you can use `$route.current.params` to access the new route's parameters.\r\n *\r\n * @example\r\n * ```js\r\n *  // Given:\r\n *  // URL: http://server.com/index.html#/Chapter/1/Section/2?search=moby\r\n *  // Route: /Chapter/:chapterId/Section/:sectionId\r\n *  //\r\n *  // Then\r\n *  $routeParams ==> {chapterId:'1', sectionId:'2', search:'moby'}\r\n * ```\r\n */\r\nfunction $RouteParamsProvider() {\r\n  this.$get = function() { return {}; };\r\n}\r\n\r\nngRouteModule.directive('ngView', ngViewFactory);\r\nngRouteModule.directive('ngView', ngViewFillContentFactory);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name ngView\r\n * @restrict ECA\r\n *\r\n * @description\r\n * # Overview\r\n * `ngView` is a directive that complements the {@link ngRoute.$route $route} service by\r\n * including the rendered template of the current route into the main layout (`index.html`) file.\r\n * Every time the current route changes, the included view changes with it according to the\r\n * configuration of the `$route` service.\r\n *\r\n * Requires the {@link ngRoute `ngRoute`} module to be installed.\r\n *\r\n * @animations\r\n * | Animation                        | Occurs                              |\r\n * |----------------------------------|-------------------------------------|\r\n * | {@link ng.$animate#enter enter}  | when the new element is inserted to the DOM |\r\n * | {@link ng.$animate#leave leave}  | when the old element is removed from to the DOM  |\r\n *\r\n * The enter and leave animation occur concurrently.\r\n *\r\n * @knownIssue If `ngView` is contained in an asynchronously loaded template (e.g. in another\r\n *             directive's templateUrl or in a template loaded using `ngInclude`), then you need to\r\n *             make sure that `$route` is instantiated in time to capture the initial\r\n *             `$locationChangeStart` event and load the appropriate view. One way to achieve this\r\n *             is to have it as a dependency in a `.run` block:\r\n *             `myModule.run(['$route', function() {}]);`\r\n *\r\n * @scope\r\n * @priority 400\r\n * @param {string=} onload Expression to evaluate whenever the view updates.\r\n *\r\n * @param {string=} autoscroll Whether `ngView` should call {@link ng.$anchorScroll\r\n *                  $anchorScroll} to scroll the viewport after the view is updated.\r\n *\r\n *                  - If the attribute is not set, disable scrolling.\r\n *                  - If the attribute is set without value, enable scrolling.\r\n *                  - Otherwise enable scrolling only if the `autoscroll` attribute value evaluated\r\n *                    as an expression yields a truthy value.\r\n * @example\r\n    <example name=\"ngView-directive\" module=\"ngViewExample\"\r\n             deps=\"angular-route.js;angular-animate.js\"\r\n             animations=\"true\" fixBase=\"true\">\r\n      <file name=\"index.html\">\r\n        <div ng-controller=\"MainCtrl as main\">\r\n          Choose:\r\n          <a href=\"Book/Moby\">Moby</a> |\r\n          <a href=\"Book/Moby/ch/1\">Moby: Ch1</a> |\r\n          <a href=\"Book/Gatsby\">Gatsby</a> |\r\n          <a href=\"Book/Gatsby/ch/4?key=value\">Gatsby: Ch4</a> |\r\n          <a href=\"Book/Scarlet\">Scarlet Letter</a><br/>\r\n\r\n          <div class=\"view-animate-container\">\r\n            <div ng-view class=\"view-animate\"></div>\r\n          </div>\r\n          <hr />\r\n\r\n          <pre>$location.path() = {{main.$location.path()}}</pre>\r\n          <pre>$route.current.templateUrl = {{main.$route.current.templateUrl}}</pre>\r\n          <pre>$route.current.params = {{main.$route.current.params}}</pre>\r\n          <pre>$routeParams = {{main.$routeParams}}</pre>\r\n        </div>\r\n      </file>\r\n\r\n      <file name=\"book.html\">\r\n        <div>\r\n          controller: {{book.name}}<br />\r\n          Book Id: {{book.params.bookId}}<br />\r\n        </div>\r\n      </file>\r\n\r\n      <file name=\"chapter.html\">\r\n        <div>\r\n          controller: {{chapter.name}}<br />\r\n          Book Id: {{chapter.params.bookId}}<br />\r\n          Chapter Id: {{chapter.params.chapterId}}\r\n        </div>\r\n      </file>\r\n\r\n      <file name=\"animations.css\">\r\n        .view-animate-container {\r\n          position:relative;\r\n          height:100px!important;\r\n          background:white;\r\n          border:1px solid black;\r\n          height:40px;\r\n          overflow:hidden;\r\n        }\r\n\r\n        .view-animate {\r\n          padding:10px;\r\n        }\r\n\r\n        .view-animate.ng-enter, .view-animate.ng-leave {\r\n          transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 1.5s;\r\n\r\n          display:block;\r\n          width:100%;\r\n          border-left:1px solid black;\r\n\r\n          position:absolute;\r\n          top:0;\r\n          left:0;\r\n          right:0;\r\n          bottom:0;\r\n          padding:10px;\r\n        }\r\n\r\n        .view-animate.ng-enter {\r\n          left:100%;\r\n        }\r\n        .view-animate.ng-enter.ng-enter-active {\r\n          left:0;\r\n        }\r\n        .view-animate.ng-leave.ng-leave-active {\r\n          left:-100%;\r\n        }\r\n      </file>\r\n\r\n      <file name=\"script.js\">\r\n        angular.module('ngViewExample', ['ngRoute', 'ngAnimate'])\r\n          .config(['$routeProvider', '$locationProvider',\r\n            function($routeProvider, $locationProvider) {\r\n              $routeProvider\r\n                .when('/Book/:bookId', {\r\n                  templateUrl: 'book.html',\r\n                  controller: 'BookCtrl',\r\n                  controllerAs: 'book'\r\n                })\r\n                .when('/Book/:bookId/ch/:chapterId', {\r\n                  templateUrl: 'chapter.html',\r\n                  controller: 'ChapterCtrl',\r\n                  controllerAs: 'chapter'\r\n                });\r\n\r\n              $locationProvider.html5Mode(true);\r\n          }])\r\n          .controller('MainCtrl', ['$route', '$routeParams', '$location',\r\n            function($route, $routeParams, $location) {\r\n              this.$route = $route;\r\n              this.$location = $location;\r\n              this.$routeParams = $routeParams;\r\n          }])\r\n          .controller('BookCtrl', ['$routeParams', function($routeParams) {\r\n            this.name = \"BookCtrl\";\r\n            this.params = $routeParams;\r\n          }])\r\n          .controller('ChapterCtrl', ['$routeParams', function($routeParams) {\r\n            this.name = \"ChapterCtrl\";\r\n            this.params = $routeParams;\r\n          }]);\r\n\r\n      </file>\r\n\r\n      <file name=\"protractor.js\" type=\"protractor\">\r\n        it('should load and compile correct template', function() {\r\n          element(by.linkText('Moby: Ch1')).click();\r\n          var content = element(by.css('[ng-view]')).getText();\r\n          expect(content).toMatch(/controller\\: ChapterCtrl/);\r\n          expect(content).toMatch(/Book Id\\: Moby/);\r\n          expect(content).toMatch(/Chapter Id\\: 1/);\r\n\r\n          element(by.partialLinkText('Scarlet')).click();\r\n\r\n          content = element(by.css('[ng-view]')).getText();\r\n          expect(content).toMatch(/controller\\: BookCtrl/);\r\n          expect(content).toMatch(/Book Id\\: Scarlet/);\r\n        });\r\n      </file>\r\n    </example>\r\n */\r\n\r\n\r\n/**\r\n * @ngdoc event\r\n * @name ngView#$viewContentLoaded\r\n * @eventType emit on the current ngView scope\r\n * @description\r\n * Emitted every time the ngView content is reloaded.\r\n */\r\nngViewFactory.$inject = ['$route', '$anchorScroll', '$animate'];\r\nfunction ngViewFactory($route, $anchorScroll, $animate) {\r\n  return {\r\n    restrict: 'ECA',\r\n    terminal: true,\r\n    priority: 400,\r\n    transclude: 'element',\r\n    link: function(scope, $element, attr, ctrl, $transclude) {\r\n        var currentScope,\r\n            currentElement,\r\n            previousLeaveAnimation,\r\n            autoScrollExp = attr.autoscroll,\r\n            onloadExp = attr.onload || '';\r\n\r\n        scope.$on('$routeChangeSuccess', update);\r\n        update();\r\n\r\n        function cleanupLastView() {\r\n          if (previousLeaveAnimation) {\r\n            $animate.cancel(previousLeaveAnimation);\r\n            previousLeaveAnimation = null;\r\n          }\r\n\r\n          if (currentScope) {\r\n            currentScope.$destroy();\r\n            currentScope = null;\r\n          }\r\n          if (currentElement) {\r\n            previousLeaveAnimation = $animate.leave(currentElement);\r\n            previousLeaveAnimation.then(function() {\r\n              previousLeaveAnimation = null;\r\n            });\r\n            currentElement = null;\r\n          }\r\n        }\r\n\r\n        function update() {\r\n          var locals = $route.current && $route.current.locals,\r\n              template = locals && locals.$template;\r\n\r\n          if (angular.isDefined(template)) {\r\n            var newScope = scope.$new();\r\n            var current = $route.current;\r\n\r\n            // Note: This will also link all children of ng-view that were contained in the original\r\n            // html. If that content contains controllers, ... they could pollute/change the scope.\r\n            // However, using ng-view on an element with additional content does not make sense...\r\n            // Note: We can't remove them in the cloneAttchFn of $transclude as that\r\n            // function is called before linking the content, which would apply child\r\n            // directives to non existing elements.\r\n            var clone = $transclude(newScope, function(clone) {\r\n              $animate.enter(clone, null, currentElement || $element).then(function onNgViewEnter() {\r\n                if (angular.isDefined(autoScrollExp)\r\n                  && (!autoScrollExp || scope.$eval(autoScrollExp))) {\r\n                  $anchorScroll();\r\n                }\r\n              });\r\n              cleanupLastView();\r\n            });\r\n\r\n            currentElement = clone;\r\n            currentScope = current.scope = newScope;\r\n            currentScope.$emit('$viewContentLoaded');\r\n            currentScope.$eval(onloadExp);\r\n          } else {\r\n            cleanupLastView();\r\n          }\r\n        }\r\n    }\r\n  };\r\n}\r\n\r\n// This directive is called during the $transclude call of the first `ngView` directive.\r\n// It will replace and compile the content of the element with the loaded template.\r\n// We need this directive so that the element content is already filled when\r\n// the link function of another directive on the same element as ngView\r\n// is called.\r\nngViewFillContentFactory.$inject = ['$compile', '$controller', '$route'];\r\nfunction ngViewFillContentFactory($compile, $controller, $route) {\r\n  return {\r\n    restrict: 'ECA',\r\n    priority: -400,\r\n    link: function(scope, $element) {\r\n      var current = $route.current,\r\n          locals = current.locals;\r\n\r\n      $element.html(locals.$template);\r\n\r\n      var link = $compile($element.contents());\r\n\r\n      if (current.controller) {\r\n        locals.$scope = scope;\r\n        var controller = $controller(current.controller, locals);\r\n        if (current.controllerAs) {\r\n          scope[current.controllerAs] = controller;\r\n        }\r\n        $element.data('$ngControllerController', controller);\r\n        $element.children().data('$ngControllerController', controller);\r\n      }\r\n      scope[current.resolveAs || '$resolve'] = locals;\r\n\r\n      link(scope);\r\n    }\r\n  };\r\n}\r\n\r\n\r\n})(window, window.angular);\r\n"],"sourceRoot":"/source/"}